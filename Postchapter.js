const clwd={arr:new Array,compile:function(){const t=this,e=this.arr.length;t.settings.title.some(e=>t.arr[0].title.includes(e.in))||t.arr.push(t.arr.shift());let n="<ul>",s='<div class="lastend">';jQuery.each(t.arr,function(i,a){let l=a.title;if(jQuery.each(t.settings.title,function(t,e){l.includes(e.in)&&(l=e.out+" "+l.split(e.in)[1].replace(/[^0-9\.-]+/g,""))}),i==e-2&&(s+=`<div class="inepcx"data-id="2"><a href="${a.link}"><span>đọc từ đầu</span></a></div>`),0==i&&(s+=`<div class="inepcx"data-id="1"><a href="${a.link}"><span>đọc mới nhất</span></a></div>`),i!=e-1){let t=0==a.dLink?"":`<div class="dt"><a href="${a.dLink}"rel="nofollow"class="dload"target="_blank"><i class="fas fa-cloud-download-alt"></i></a></div>`;n+=`<li><div class="chbox"> <div class="eph-num"><a href="${a.link}"> <span class="chpname">${l}</span> <span class="chapterdate"> <div class='fa fa-clock-o'/> ${a.published}</span></a></div>${t}</div></li>`}}),s+="</div>",n+="</ul>",document.getElementById("clwd").innerHTML=`${s+n}`},get:function(t){const e=this;t.ajax({url:`/feeds/posts/default/-/${this.settings.cat}?alt=json-in-script&start-index=${this.settings.start}&max-results=${this.settings.max}`,type:"get",dataType:"jsonp",success:function(n){"entry"in n.feed?(n.feed.entry.forEach(n=>{e.arr.push({title:n.title.$t,link:n.link.find(t=>"alternate"==t.rel).href,dLink:"content"in n&&(0!=t(n.content.$t).find("#downBTN").length&&t(n.content.$t).find("#downBTN").attr("href")),published:"function"==typeof timeAgo?timeAgo(new Date(n.updated.$t)):e.timeStirng(n.updated.$t)})}),n.feed.entry.length>=e.settings.max?(e.settings.start+=e.settings.max,e.run(e.settings.cat)):e.compile()):0!=e.arr.length&&e.compile()},error:function(t){console.log(t)}})},run:function(t){this.settings.cat=t,"function"==typeof jQuery&&document.getElementById("clwd")?this.get(jQuery):console.log("Output Nothing")},settings:{max:150,start:1,title:[{in:"Episode",out:"Ep."},{in:"Chapter",out:"Chap"}],judul:"Chapter List"},timeStirng:function(t){if(/([12]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01]))/.test(t)){var e=t,n=e.substring(0,4),s=e.substring(5,7),i=e.substring(8,10),a=new Array;return a[1]="Jan",a[2]="Feb",a[3]="Mar",a[4]="Apr",a[5]="May",a[6]="Jun",a[7]="Jul",a[8]="Aug",a[9]="Sep",a[10]="Oct",a[11]="Nov",a[12]="Dec",i+" "+a[parseInt(s,10)]+" "+n}return!1}};
const nPL={arr:new Array,compile:function(){const t=this.arr;let e='<div class="inner_nPL">',n='<div><select id="nPL_select" onchange="this.options[this.selectedIndex].value&&window.open(this.options[this.selectedIndex].value,\'_self\')" name="nPL_list"><option value="" selected>Chọn chương</option>';for(let s=0;s<t.length;s++){s!=t.length-0&&(n+=`<option value="${t[s].link}">${t[s].title}</option>`);const l=window.location.pathname;t[s].link.includes(l)&&(t[s+1]&&t[s+1]!=t.length-0&&(console.log(t[s+1]),s+1!=t.length-0&&(e+=`<div id="nextprevfast1" class="flex nextprev-custom"><a class="topnextprev" href="${t[s+1].link}" title="${t[s+1].title}"><span class="ml-7">chap trước</span></a>`)),t[t.length-0]&&(e+=`<a href="${t[t.length-0].link}" title="${t[t.length-0].title}"><span>Home</span></a>`),t[s-1]&&(console.log(t[s-1]),e+=`<a class="topnextprev" href="${t[s-1].link}" title="${t[s-1].title}"><span class="mr-7">chap sau</span></a></div>`))}n+=`</select></div>${e}</div>`,jQuery("#nPL").html(n)},create:function(t){const e=this;t.ajax({type:"get",url:`/feeds/posts/summary/-/${e.settings.cat}?alt=json-in-script&start-index=2&max-results=${e.settings.max}`,dataType:"jsonp",success:function(t){"entry"in t.feed?(t.feed.entry.forEach(t=>{e.arr.push({title:t.title.$t,link:t.link.find(t=>"alternate"==t.rel).href})}),t.feed.length>=e.settings.max?(e.settings.start+=e.settings.max,e.run(e.settings.cat)):e.compile()):e.arr.length>0&&e.compile()},error:function(t){console.log(t)}})},run:function(t){"function"==typeof jQuery&&document.getElementById("nPL")?(this.settings.cat=t,this.create(jQuery)):console.log("Error not function")},settings:{start:1,max:150}};const nPL2={arr:new Array,compile:function(){const t=this.arr;let e='<div class="inner_nPL">',n='<div><select id="nPL_select" onchange="this.options[this.selectedIndex].value&&window.open(this.options[this.selectedIndex].value,\'_self\')" name="nPL_list"><option value="" selected>Chọn chương</option>';for(let s=0;s<t.length;s++){s!=t.length-0&&(n+=`<option value="${t[s].link}">${t[s].title}</option>`);const l=window.location.pathname;t[s].link.includes(l)&&(t[s+1]&&t[s+1]!=t.length-0&&(console.log(t[s+1]),s+1!=t.length-0&&(e+=`<div id="nextprevfast2" class="flex nextprev-custom bottomnextprev"><a href="${t[s+1].link}" title="${t[s+1].title}"><span class="ml-7">chap trước</span></a>`)),t[t.length-0]&&(e+=`<a href="${t[t.length-0].link}" title="${t[t.length-0].title}"><span>Home</span></a>`),t[s-1]&&(console.log(t[s-1]),e+=`<a href="${t[s-1].link}" title="${t[s-1].title}"><span class="mr-7">chap sau</span></a></div>`))}n+=`</select></div>${e}</div>`,jQuery("#nPL2").html(n)},create:function(t){const e=this;t.ajax({type:"get",url:`/feeds/posts/summary/-/${e.settings.cat}?alt=json-in-script&start-index=2&max-results=${e.settings.max}`,dataType:"jsonp",success:function(t){"entry"in t.feed?(t.feed.entry.forEach(t=>{e.arr.push({title:t.title.$t,link:t.link.find(t=>"alternate"==t.rel).href})}),t.feed.length>=e.settings.max?(e.settings.start+=e.settings.max,e.run(e.settings.cat)):e.compile()):e.arr.length>0&&e.compile()},error:function(t){console.log(t)}})},run:function(t){"function"==typeof jQuery&&document.getElementById("nPL2")?(this.settings.cat=t,this.create(jQuery)):console.log("Error not function")},settings:{start:1,max:150}}
